<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>项目编辑器</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="core/styles.css">
  <link rel="stylesheet" href="Editor/editor.css">
</head>
<body data-page="editor">
  <main class="container editor-main">
    <div class="editor-topbar">
      <button class="lang-toggle" type="button" data-lang-toggle data-i18n-attr="aria-label:nav.langToggleAria">EN</button>
    </div>
    <section class="editor-hero">
      <div>
        <p class="editor-kicker" data-i18n="editor.kicker">内容管理</p>
        <div class="editor-title-row">
          <h1 class="editor-title" data-i18n="editor.title">项目编辑器</h1>
          <a
            class="editor-feedback-link"
            href="https://docs.qq.com/smartsheet/DYU1XaHFKYWZVUkhR"
            target="_blank"
            rel="noopener noreferrer"
          >问题和建议反馈</a>
        </div>
      </div>
      <div class="editor-hero-actions">
        <button class="editor-secondary editor-folder-action" id="open-folder" type="button" data-i18n="editor.open">选择项目目录</button>
        <div class="folder-help" id="folder-help">
          <button
            id="folder-help-toggle"
            class="folder-help-toggle"
            type="button"
            aria-haspopup="true"
            data-i18n-attr="aria-label:editor.folderHelpAria"
            aria-label="目录选择说明"
          >?</button>
          <div id="folder-help-popover" class="folder-help-popover" role="tooltip" data-i18n="editor.folderPickerHint">请选择index.html所在的文件夹</div>
        </div>
      </div>
    </section>

    <div class="editor-tabs" role="tablist" aria-label="Editor Tabs">
      <button id="tab-project-edit" class="editor-tab-btn is-active" type="button" role="tab" aria-selected="true" data-i18n="editor.tabEdit">编辑项目</button>
      <button id="tab-personalize" class="editor-tab-btn" type="button" role="tab" aria-selected="false" data-i18n="editor.tabPersonalize">编辑主页</button>
      <button id="tab-about-edit" class="editor-tab-btn" type="button" role="tab" aria-selected="false" data-i18n="editor.tabAbout">编辑关于我</button>
    </div>

    <section id="editor-tab-project" class="editor-tab-panel">
      <div class="editor-status" id="status-wrap" hidden>
        <span class="editor-status-text" id="status"></span>
      </div>

      <section class="editor-panel editor-type-panel">
        <div class="panel-header">
          <h2 data-i18n="typeManager.title">项目类型管理</h2>
          <div class="panel-actions">
            <button class="editor-secondary" id="type-add-mode" type="button" data-i18n="typeManager.add" disabled>新增类型</button>
          </div>
        </div>
        <div class="panel-body">
          <table class="editor-table type-table">
            <thead>
              <tr>
                <th data-i18n="typeManager.id">编号</th>
                <th data-i18n="typeManager.nameZh">中文名称</th>
                <th data-i18n="typeManager.nameEn">英文名称</th>
                <th data-i18n="typeManager.actions">操作</th>
              </tr>
            </thead>
            <tbody id="type-list"></tbody>
          </table>
          <div class="type-panel-footer" id="type-panel-footer" hidden>
            <button class="editor-ghost" id="type-cancel" type="button" data-i18n="typeManager.cancel">取消</button>
            <button class="editor-primary" id="type-save" type="button" data-i18n="typeManager.save">保存</button>
          </div>
        </div>
      </section>

      <section class="editor-grid">
        <div class="editor-panel editor-project-list-panel">
          <div class="panel-header">
            <h2 data-i18n="list.title">项目列表</h2>
            <div class="panel-actions">
              <button class="editor-secondary" id="new-project" type="button" data-i18n="editor.new" disabled>新建项目</button>
            </div>
          </div>
          <div class="panel-body">
            <table class="editor-table project-list-header-table">
              <colgroup>
                <col class="col-id">
                <col class="col-name">
                <col class="col-type">
                <col class="col-rank">
                <col class="col-actions">
              </colgroup>
              <thead>
                <tr>
                  <th data-i18n="table.id">编号</th>
                  <th data-i18n="table.name">名称</th>
                  <th data-i18n="table.type">类型</th>
                  <th data-i18n="table.rank">排序</th>
                  <th data-i18n="table.actions">操作</th>
                </tr>
              </thead>
            </table>
            <div class="project-list-scroll" id="project-list-scroll">
              <table class="editor-table project-list-body-table">
                <colgroup>
                  <col class="col-id">
                  <col class="col-name">
                  <col class="col-type">
                  <col class="col-rank">
                  <col class="col-actions">
                </colgroup>
                <tbody id="project-list"></tbody>
              </table>
              <div class="panel-empty" id="project-empty" data-i18n="list.empty">暂无项目</div>
            </div>
          </div>
        </div>

        <div class="editor-panel editor-project-form-panel">
          <div class="panel-header">
            <h2 data-i18n="form.title">项目信息编辑</h2>
          </div>
          <div class="panel-body">
            <div class="panel-empty" id="project-form-empty" data-i18n="form.emptyNotice">需要点击右侧列表选择项目或者点击‘新建项目’开始编辑</div>
            <form class="editor-form" id="project-form" hidden>
              <div class="form-row form-row--triple">
                <label for="project-id" data-i18n="form.id">编号</label>
                <input id="project-id" name="id" type="text" required>
              </div>

              <div class="form-row">
                <label for="name-zh" data-i18n="form.nameZh">中文名称</label>
                <input id="name-zh" name="name_zh" type="text" required>
              </div>

              <div class="form-row">
                <label for="name-en" data-i18n="form.nameEn">英文名称</label>
                <input id="name-en" name="name_en" type="text" required>
              </div>

              <div class="form-row">
                <label for="type" data-i18n="form.type">项目类型</label>
                <select id="type" name="type">
                  <option value="" data-i18n="form.typeEmpty">未分类</option>
                </select>
              </div>

              <div class="form-row">
                <label for="date" data-i18n="form.date">时间</label>
                <input id="date" name="date" type="month" required>
              </div>

              <div class="form-row">
                <label for="rank" data-i18n="form.rank">排序</label>
                <input id="rank" name="rank" type="text" inputmode="numeric" list="project-rank-options" data-i18n-attr="placeholder:form.rankPlaceholder">
              </div>

              <div class="form-row">
                <label data-i18n="form.tags">标签</label>
                <div class="tag-editor">
                  <div class="tag-chip-list" id="tag-list" aria-live="polite"></div>
                </div>
              </div>

              <datalist id="project-rank-options"></datalist>

              <div class="form-row form-row-cover">
                <label for="image-file" data-i18n="form.imageFile">上传封面</label>
                <div class="cover-field">
                  <input id="image-file" name="image_file" type="file" accept="image/*" hidden>
                  <button id="cover-select-btn" class="tag-chip tag-chip-add" type="button" data-i18n="form.coverSelect">选择图片</button>
                  <div class="cover-status">
                    <span id="cover-status-text">没有封面图，可添加</span>
                    <a id="cover-view-link" class="cover-view-link" href="#" target="_blank" rel="noopener noreferrer" hidden>查看</a>
                  </div>
                </div>
              </div>

              <div class="form-actions">
                <button class="editor-ghost" id="cancel-form" type="button" data-i18n="form.cancel">取消</button>
                <button class="editor-ghost editor-danger" id="delete-project" type="button" data-i18n="actions.delete" hidden>删除</button>
                <button class="editor-primary" id="save-project" type="submit" data-i18n="form.save">保存</button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <section class="editor-panel editor-detail-panel" id="detail-panel" hidden>
        <div class="panel-header">
          <h2 data-i18n="detail.title">详情页编辑</h2>
          <div class="panel-meta detail-header-meta">
            <span id="detail-project-name"></span>
            <div class="locale-switch" role="group">
              <button id="detail-lang-zh" class="editor-secondary is-active" type="button">中文</button>
              <button id="detail-lang-en" class="editor-secondary" type="button">EN</button>
              <button id="detail-lang-copy" class="editor-ghost lang-copy-btn" type="button">把英文的内容粘过来</button>
            </div>
          </div>
        </div>
        <div class="panel-body">
          <input id="detail-image" type="file" accept="image/*" hidden>
          <input id="detail-replace-image" type="file" accept="image/*" hidden>
          <input id="detail-file-upload" type="file" hidden>
          <input id="detail-text-color" class="detail-color-input" type="color" value="#1d1c1a">
          <input id="detail-highlight-color" class="detail-color-input" type="color" value="#fff59d">

          <div class="detail-nav-initial-row">
            <span class="detail-nav-initial-label" data-i18n="detail.navInitialLabel">导航栏初始颜色</span>
            <div class="detail-nav-initial-options" role="radiogroup" data-i18n-attr="aria-label:detail.navInitialLabel">
              <label class="detail-nav-initial-option">
                <input id="detail-nav-initial-light" type="radio" name="detail-nav-initial-theme" value="light" checked>
                <span data-i18n="detail.navInitialLight">白色</span>
              </label>
              <label class="detail-nav-initial-option">
                <input id="detail-nav-initial-dark" type="radio" name="detail-nav-initial-theme" value="dark">
                <span data-i18n="detail.navInitialDark">深灰</span>
              </label>
            </div>
          </div>

          <div class="detail-toolbar">
            <div class="detail-toolbar-group">
              <div class="detail-toolbar-label" data-i18n="detail.paragraphLabel">段落</div>
              <div class="detail-toolbar-row">
                <button class="editor-ghost detail-tool-btn" id="detail-paragraph" type="button" data-i18n="detail.body">正文</button>
                <button class="editor-ghost detail-tool-btn" id="detail-note" type="button" data-i18n="detail.note">说明</button>
                <button class="editor-ghost detail-tool-btn" id="detail-h1" type="button" data-i18n="detail.h1">一级标题</button>
                <button class="editor-ghost detail-tool-btn" id="detail-h2" type="button" data-i18n="detail.h2">二级标题</button>
                <button class="editor-ghost detail-tool-btn" id="detail-h3" type="button" data-i18n="detail.h3">三级标题</button>
                <button class="editor-ghost detail-tool-btn" id="detail-ol" type="button" data-i18n="detail.ol">有序列表</button>
                <button class="editor-ghost detail-tool-btn" id="detail-ul" type="button" data-i18n="detail.ul">无序列表</button>
                <button class="editor-ghost detail-tool-btn" id="detail-code" type="button" data-i18n="detail.codeBlock">代码块</button>
                <button class="editor-ghost detail-tool-btn" id="detail-quote" type="button" data-i18n="detail.quote">引用</button>
                <button class="editor-ghost detail-tool-btn" id="detail-divider" type="button" data-i18n="detail.divider">分割线</button>
              </div>
            </div>

            <div class="detail-toolbar-group">
              <div class="detail-toolbar-label" data-i18n="detail.contentLabel">内容</div>
              <div class="detail-toolbar-row">
                <button class="editor-ghost detail-tool-btn" id="insert-image" type="button" data-i18n="detail.image">插入图片</button>
                <button class="editor-ghost detail-tool-btn" id="detail-web-embed" type="button" data-i18n="detail.webInsert">插入网页</button>
                <button class="editor-ghost detail-tool-btn" id="detail-link" type="button" data-i18n="detail.link">插入链接</button>
                <button class="editor-ghost detail-tool-btn" id="detail-bg-section" type="button" data-i18n="detail.bgSection">背景区间</button>
                <button class="editor-ghost detail-tool-btn" id="detail-columns" type="button" data-i18n="detail.columnsInsert">插入分栏</button>
                <button class="editor-ghost detail-tool-btn" id="detail-insert-button" type="button" data-i18n="detail.buttonInsert">插入按键</button>
                <button class="editor-ghost detail-tool-btn" id="detail-table" type="button" data-i18n="detail.table">插入表格</button>
                <button class="editor-ghost detail-tool-btn" id="insert-file" type="button" data-i18n="detail.file">插入文件</button>
              </div>
            </div>

            <div class="detail-toolbar-group">
              <div class="detail-toolbar-label" data-i18n="detail.fontLabel">字体</div>
              <div class="detail-toolbar-row">
                <label class="detail-font-size-wrap" for="detail-font-size">
                  <span class="sr-only" data-i18n="detail.fontSize">字号</span>
                  <select id="detail-font-size" class="detail-font-size-select" data-i18n-attr="aria-label:detail.fontSize">
                    <option value="" data-i18n="detail.fontSize">字号</option>
                    <option value="1">12px</option>
                    <option value="2">14px</option>
                    <option value="3">16px</option>
                    <option value="4">18px</option>
                    <option value="5">24px</option>
                    <option value="6">32px</option>
                    <option value="7">48px</option>
                  </select>
                </label>
                <button class="editor-ghost detail-tool-btn" id="detail-bold" type="button" data-i18n="detail.bold">加粗</button>
                <button class="editor-ghost detail-tool-btn" id="detail-italic" type="button" data-i18n="detail.italic">斜体</button>
                <button class="editor-ghost detail-tool-btn" id="detail-underline" type="button" data-i18n="detail.underline">下划线</button>
                <button class="editor-ghost detail-tool-btn" id="detail-strike" type="button" data-i18n="detail.strike">删除线</button>
                <button class="editor-ghost detail-tool-btn" id="detail-text-color-btn" type="button" data-i18n="detail.textColor">文字颜色</button>
                <button class="editor-ghost detail-tool-btn" id="detail-highlight-btn" type="button" data-i18n="detail.highlight">文字高亮</button>
                <button class="editor-ghost detail-tool-btn" id="detail-align-left" type="button" data-i18n="detail.alignLeft">左对齐</button>
                <button class="editor-ghost detail-tool-btn" id="detail-align-right" type="button" data-i18n="detail.alignRight">右对齐</button>
                <button class="editor-ghost detail-tool-btn" id="detail-align-center" type="button" data-i18n="detail.alignCenter">居中</button>
              </div>
            </div>
          </div>

          <div class="detail-popover" id="detail-table-popover" hidden>
            <label for="detail-table-size" data-i18n="detail.tableSizePrompt">表格尺寸</label>
            <input id="detail-table-size" type="text" data-i18n-attr="placeholder:detail.tableSizeHint" placeholder="3x3">
            <div class="detail-popover-actions">
              <button class="editor-secondary" id="detail-table-insert" type="button" data-i18n="detail.tableInsert">插入</button>
              <button class="editor-ghost" id="detail-table-cancel" type="button" data-i18n="form.cancel">取消</button>
            </div>
          </div>

          <div class="editor-line-shell">
            <div class="editor-line-gutter" id="detail-line-gutter" aria-hidden="true"></div>
            <div class="detail-editor" id="detail-editor" contenteditable="true"></div>
          </div>

          <div class="detail-float" id="detail-float" hidden>
            <button class="editor-ghost" id="replace-image" type="button" data-i18n="detail.replaceImage">替换图片</button>
            <button class="editor-ghost" id="toggle-crop" type="button" data-i18n="detail.crop">裁剪</button>
            <div class="float-align-group" role="group" data-i18n-attr="aria-label:detail.alignLeft">
              <button class="editor-ghost" id="image-align-left" type="button" data-i18n="detail.alignLeft">左对齐</button>
              <button class="editor-ghost" id="image-align-center" type="button" data-i18n="detail.alignCenter">居中</button>
              <button class="editor-ghost" id="image-align-right" type="button" data-i18n="detail.alignRight">右对齐</button>
            </div>
            <div class="float-input">
              <label for="image-width" data-i18n="detail.widthPx">宽度(px)</label>
              <input id="image-width" type="number" min="1">
            </div>
            <div class="float-input">
              <label for="image-height" data-i18n="detail.heightPx">高度(px)</label>
              <input id="image-height" type="number" min="1">
            </div>
          </div>

          <div class="form-actions detail-actions">
            <button class="editor-primary" id="save-detail" type="button" data-i18n="detail.save">保存详情页</button>
            <button class="editor-secondary" id="preview-detail" type="button" data-i18n="detail.preview">预览</button>
            <button class="editor-secondary" id="import-detail-folder" type="button" data-i18n="detail.importFolder">导入文件</button>
            <button class="editor-ghost" id="cancel-detail" type="button" data-i18n="detail.cancel">取消</button>
          </div>
        </div>
      </section>
    </section>

    <section id="editor-tab-personalize" class="editor-tab-panel" hidden>
      <section class="editor-panel editor-personalize-panel">
        <div class="panel-header">
          <h2 data-i18n="personalize.title">个性化设置</h2>
        </div>
        <div class="panel-body">
          <div class="personalize-brand-block">
            <p class="personalize-brand-title" data-i18n="personalize.brandGroupTitle">导航栏左侧标题</p>
            <div class="personalize-brand-head">
              <span data-i18n="typeManager.nameZh">中文名称</span>
              <span data-i18n="typeManager.nameEn">英文名称</span>
            </div>
            <div class="personalize-brand-row">
              <input id="personalize-brand-text-zh" type="text" data-i18n-attr="placeholder:personalize.brandPlaceholderZh" placeholder="XXX的个人空间">
              <input id="personalize-brand-text-en" type="text" data-i18n-attr="placeholder:personalize.brandPlaceholderEn" placeholder="XXX's Space">
            </div>
          </div>

          <div class="personalize-footer-row">
            <label class="personalize-toggle">
              <input id="personalize-footer-enabled" type="checkbox">
              <span data-i18n="personalize.footerEnable">启用项目页底部文案</span>
            </label>
          </div>

          <div class="personalize-lang-row">
            <div class="locale-switch" role="group">
              <button id="personalize-lang-zh" class="editor-secondary is-active" type="button">中文</button>
              <button id="personalize-lang-en" class="editor-secondary" type="button">EN</button>
              <button id="personalize-lang-copy" class="editor-ghost lang-copy-btn" type="button">把英文的内容粘过来</button>
            </div>
          </div>

          <input id="personalize-text-color" class="detail-color-input" type="color" value="#6f6a64">
          <input id="personalize-highlight-color" class="detail-color-input" type="color" value="#fff59d">
          <input id="personalize-image-upload" type="file" accept="image/*" hidden>
          <input id="personalize-file-upload" type="file" hidden>

          <div class="detail-toolbar personalize-toolbar" id="personalize-toolbar">
            <div class="detail-toolbar-group">
              <div class="detail-toolbar-label" data-i18n="detail.fontLabel">字体</div>
              <div class="detail-toolbar-row">
                <label class="detail-font-size-wrap" for="personalize-font-size">
                  <span class="sr-only" data-i18n="detail.fontSize">字号</span>
                  <select id="personalize-font-size" class="detail-font-size-select" data-i18n-attr="aria-label:detail.fontSize">
                    <option value="" data-i18n="detail.fontSize">字号</option>
                    <option value="1">12px</option>
                    <option value="2">14px</option>
                    <option value="3">16px</option>
                    <option value="4">18px</option>
                    <option value="5">24px</option>
                    <option value="6">32px</option>
                    <option value="7">48px</option>
                  </select>
                </label>
                <button class="editor-ghost detail-tool-btn" id="personalize-text-color-btn" type="button" data-personalize-action="text-color" data-i18n="detail.textColor">文字颜色</button>
                <button class="editor-ghost detail-tool-btn" type="button" data-personalize-command="justifyLeft" data-i18n="detail.alignLeft">左对齐</button>
                <button class="editor-ghost detail-tool-btn" type="button" data-personalize-command="justifyCenter" data-i18n="detail.alignCenter">居中</button>
                <button class="editor-ghost detail-tool-btn" type="button" data-personalize-command="justifyRight" data-i18n="detail.alignRight">右对齐</button>
              </div>
            </div>
            <div class="detail-toolbar-group">
              <div class="detail-toolbar-label" data-i18n="detail.contentLabel">内容</div>
              <div class="detail-toolbar-row">
                <button class="editor-ghost detail-tool-btn" type="button" data-personalize-action="link" data-i18n="detail.link">插入链接</button>
                <button class="editor-ghost detail-tool-btn" id="personalize-bg-section" type="button" data-personalize-action="bg-section" data-i18n="detail.bgSection">背景区间</button>
                <button class="editor-ghost detail-tool-btn" id="personalize-columns" type="button" data-personalize-action="columns" data-i18n="detail.columnsInsert">插入分栏</button>
                <button class="editor-ghost detail-tool-btn" id="personalize-insert-button" type="button" data-personalize-action="insert-button" data-i18n="detail.buttonInsert">插入按键</button>
              </div>
            </div>
          </div>

          <div class="detail-popover" id="personalize-table-popover" hidden>
            <label for="personalize-table-size" data-i18n="detail.tableSizePrompt">表格尺寸</label>
            <input id="personalize-table-size" type="text" data-i18n-attr="placeholder:detail.tableSizeHint" placeholder="3x3">
            <div class="detail-popover-actions">
              <button class="editor-secondary" id="personalize-table-insert" type="button" data-i18n="detail.tableInsert">插入</button>
              <button class="editor-ghost" id="personalize-table-cancel" type="button" data-i18n="form.cancel">取消</button>
            </div>
          </div>

          <div class="editor-line-shell">
            <div class="editor-line-gutter" id="personalize-line-gutter" aria-hidden="true"></div>
            <div id="personalize-footer-editor" class="detail-editor personalize-editor" contenteditable="true" data-i18n-attr="data-placeholder:personalize.footerPlaceholder"></div>
          </div>

          <div class="form-actions personalize-actions">
            <button class="editor-primary" id="save-personalization" type="button" data-i18n="personalize.save" disabled>保存个性化</button>
          </div>
        </div>
      </section>
    </section>

    <section id="editor-tab-about" class="editor-tab-panel" hidden>
      <section class="editor-panel editor-about-panel">
        <div class="panel-header">
          <h2 data-i18n="aboutEditor.title">关于我编辑</h2>
          <div class="about-lang-switch" role="group">
            <button id="about-lang-zh" class="editor-secondary is-active" type="button">中文</button>
            <button id="about-lang-en" class="editor-secondary" type="button">EN</button>
            <button id="about-lang-copy" class="editor-ghost lang-copy-btn" type="button">把英文的内容粘过来</button>
          </div>
        </div>
        <div class="panel-body">
          <input id="about-image-upload" type="file" accept="image/*" hidden>
          <input id="about-file-upload" type="file" hidden>
          <input id="about-text-color" class="detail-color-input" type="color" value="#1d1c1a">
          <input id="about-highlight-color" class="detail-color-input" type="color" value="#fff59d">

          <div class="detail-toolbar" id="about-toolbar">
            <div class="detail-toolbar-group">
              <div class="detail-toolbar-label" data-i18n="detail.paragraphLabel">段落</div>
              <div class="detail-toolbar-row">
                <button class="editor-ghost detail-tool-btn" id="about-paragraph" type="button" data-i18n="detail.body">正文</button>
                <button class="editor-ghost detail-tool-btn" id="about-note" type="button" data-i18n="detail.note">说明</button>
                <button class="editor-ghost detail-tool-btn" id="about-h1" type="button" data-i18n="detail.h1">一级标题</button>
                <button class="editor-ghost detail-tool-btn" id="about-h2" type="button" data-i18n="detail.h2">二级标题</button>
                <button class="editor-ghost detail-tool-btn" id="about-h3" type="button" data-i18n="detail.h3">三级标题</button>
                <button class="editor-ghost detail-tool-btn" id="about-ol" type="button" data-i18n="detail.ol">有序列表</button>
                <button class="editor-ghost detail-tool-btn" id="about-ul" type="button" data-i18n="detail.ul">无序列表</button>
                <button class="editor-ghost detail-tool-btn" id="about-code" type="button" data-i18n="detail.codeBlock">代码块</button>
                <button class="editor-ghost detail-tool-btn" id="about-quote" type="button" data-i18n="detail.quote">引用</button>
                <button class="editor-ghost detail-tool-btn" id="about-divider" type="button" data-i18n="detail.divider">分割线</button>
              </div>
            </div>

            <div class="detail-toolbar-group">
              <div class="detail-toolbar-label" data-i18n="detail.contentLabel">内容</div>
              <div class="detail-toolbar-row">
                <button class="editor-ghost detail-tool-btn" id="about-link" type="button" data-i18n="detail.link">插入链接</button>
                <button class="editor-ghost detail-tool-btn" id="about-bg-section" type="button" data-i18n="detail.bgSection">背景区间</button>
                <button class="editor-ghost detail-tool-btn" id="about-columns" type="button" data-i18n="detail.columnsInsert">插入分栏</button>
                <button class="editor-ghost detail-tool-btn" id="about-insert-button" type="button" data-i18n="detail.buttonInsert">插入按键</button>
                <button class="editor-ghost detail-tool-btn" id="about-table" type="button" data-i18n="detail.table">插入表格</button>
              </div>
            </div>

            <div class="detail-toolbar-group">
              <div class="detail-toolbar-label" data-i18n="detail.fontLabel">字体</div>
              <div class="detail-toolbar-row">
                <label class="detail-font-size-wrap" for="about-font-size">
                  <span class="sr-only" data-i18n="detail.fontSize">字号</span>
                  <select id="about-font-size" class="detail-font-size-select" data-i18n-attr="aria-label:detail.fontSize">
                    <option value="" data-i18n="detail.fontSize">字号</option>
                    <option value="1">12px</option>
                    <option value="2">14px</option>
                    <option value="3">16px</option>
                    <option value="4">18px</option>
                    <option value="5">24px</option>
                    <option value="6">32px</option>
                    <option value="7">48px</option>
                  </select>
                </label>
                <button class="editor-ghost detail-tool-btn" id="about-bold" type="button" data-i18n="detail.bold">加粗</button>
                <button class="editor-ghost detail-tool-btn" id="about-italic" type="button" data-i18n="detail.italic">斜体</button>
                <button class="editor-ghost detail-tool-btn" id="about-underline" type="button" data-i18n="detail.underline">下划线</button>
                <button class="editor-ghost detail-tool-btn" id="about-strike" type="button" data-i18n="detail.strike">删除线</button>
                <button class="editor-ghost detail-tool-btn" id="about-text-color-btn" type="button" data-i18n="detail.textColor">文字颜色</button>
                <button class="editor-ghost detail-tool-btn" id="about-highlight-btn" type="button" data-i18n="detail.highlight">文字高亮</button>
                <button class="editor-ghost detail-tool-btn" id="about-align-left" type="button" data-i18n="detail.alignLeft">左对齐</button>
                <button class="editor-ghost detail-tool-btn" id="about-align-right" type="button" data-i18n="detail.alignRight">右对齐</button>
                <button class="editor-ghost detail-tool-btn" id="about-align-center" type="button" data-i18n="detail.alignCenter">居中</button>
              </div>
            </div>
          </div>

          <div class="detail-popover" id="about-table-popover" hidden>
            <label for="about-table-size" data-i18n="detail.tableSizePrompt">表格尺寸</label>
            <input id="about-table-size" type="text" data-i18n-attr="placeholder:detail.tableSizeHint" placeholder="3x3">
            <div class="detail-popover-actions">
              <button class="editor-secondary" id="about-table-insert" type="button" data-i18n="detail.tableInsert">插入</button>
              <button class="editor-ghost" id="about-table-cancel" type="button" data-i18n="form.cancel">取消</button>
            </div>
          </div>

          <div class="editor-line-shell">
            <div class="editor-line-gutter" id="about-line-gutter" aria-hidden="true"></div>
            <div id="about-editor" class="detail-editor about-editor" contenteditable="true"></div>
          </div>
          <div class="form-actions about-actions">
            <button class="editor-secondary" id="preview-about" type="button" data-i18n="detail.preview">预览</button>
            <button class="editor-secondary" id="import-about-folder" type="button" data-i18n="aboutEditor.importFolder">导入文件</button>
            <button class="editor-primary" id="save-about" type="button" data-i18n="aboutEditor.save" disabled>保存关于我</button>
          </div>
        </div>
      </section>
    </section>

    <div class="detail-popover line-range-popover" id="line-range-popover" hidden>
      <div class="insert-button-title" data-i18n="detail.bgRangeTitle">按行设置背景</div>
      <label for="line-range-start" data-i18n="detail.bgRangeStart">起始行</label>
      <input id="line-range-start" type="number" min="1" step="1" value="1">
      <label for="line-range-end" data-i18n="detail.bgRangeEnd">结束行</label>
      <input id="line-range-end" type="number" min="1" step="1" value="1">
      <label for="line-range-color" data-i18n="detail.bgRangeColor">背景颜色</label>
      <input id="line-range-color" type="color" value="#f5f2ed">
      <div class="detail-popover-actions">
        <button class="editor-secondary" id="line-range-apply" type="button" data-i18n="detail.bgRangeApply">应用区间</button>
        <button class="editor-secondary" id="line-range-remove" type="button" data-i18n="detail.bgRangeRemove">删除区间</button>
        <button class="editor-ghost" id="line-range-cancel" type="button" data-i18n="form.cancel">取消</button>
      </div>
    </div>

    <div class="detail-popover columns-popover" id="columns-popover" hidden>
      <div class="insert-button-title" data-i18n="detail.columnsPopoverTitle">插入分栏</div>
      <label for="columns-count" data-i18n="detail.columnsCount">分栏数</label>
      <input id="columns-count" type="number" min="2" max="6" step="1" value="2">
      <label class="columns-color-toggle" for="columns-use-color">
        <input id="columns-use-color" type="checkbox">
        <span data-i18n="detail.columnsUseColor">启用颜色</span>
      </label>
      <label for="columns-color" data-i18n="detail.columnsColor">分栏颜色</label>
      <input id="columns-color" type="color" value="#f1efea">
      <div class="detail-popover-actions">
        <button class="editor-secondary" id="columns-apply" type="button" data-i18n="detail.columnsApply">插入分栏</button>
        <button class="editor-ghost" id="columns-cancel" type="button" data-i18n="form.cancel">取消</button>
      </div>
    </div>

    <div class="detail-popover insert-button-popover" id="insert-button-popover" hidden>
      <div class="insert-button-title" data-i18n="detail.buttonPopoverTitle">插入按键</div>

      <label for="insert-button-text" data-i18n="detail.buttonTextLabel">按钮文字</label>
      <input
        id="insert-button-text"
        type="text"
        data-i18n-attr="placeholder:detail.buttonTextPlaceholder"
        placeholder="按钮"
      >

      <label for="insert-button-link-type" data-i18n="detail.buttonLinkTypeLabel">跳转类型</label>
      <select id="insert-button-link-type">
        <option value="anchor" data-i18n="detail.buttonTypeAnchor">本页位置</option>
        <option value="internal" data-i18n="detail.buttonTypeInternal">内部文件</option>
        <option value="external" data-i18n="detail.buttonTypeExternal">外部链接</option>
      </select>

      <label for="insert-button-link-target" id="insert-button-link-label" data-i18n="detail.buttonTargetAnchorLabel">本页锚点 ID</label>
      <input
        id="insert-button-link-target"
        type="text"
        data-i18n-attr="placeholder:detail.buttonTargetAnchorHint"
        placeholder="例如 section-1"
      >

      <div class="insert-button-style-label" data-i18n="detail.buttonStyleLabel">按钮样式</div>
      <div class="insert-button-grid">
        <label class="insert-button-checkbox">
          <input id="insert-button-has-border" type="checkbox" checked>
          <span data-i18n="detail.buttonHasBorder">显示外框</span>
        </label>
        <label class="insert-button-checkbox">
          <input id="insert-button-bold" type="checkbox">
          <span data-i18n="detail.buttonBoldText">文字加粗</span>
        </label>

        <div class="insert-button-field">
          <span data-i18n="detail.buttonRadius">圆角(px)</span>
          <input id="insert-button-radius" type="number" min="0" step="1" value="12">
        </div>
        <div class="insert-button-field">
          <span data-i18n="detail.buttonWidth">宽度(px)</span>
          <input id="insert-button-width" type="number" min="0" step="1" placeholder="auto">
        </div>
        <div class="insert-button-field">
          <span data-i18n="detail.buttonHeight">高度(px)</span>
          <input id="insert-button-height" type="number" min="0" step="1" placeholder="auto">
        </div>
      </div>

      <div class="insert-button-color-grid">
        <div class="insert-button-field">
          <span data-i18n="detail.buttonBorderColor">外框颜色</span>
          <input id="insert-button-border-color" type="color" value="#1d1c1a">
        </div>
        <div class="insert-button-field">
          <span data-i18n="detail.buttonFillColor">内部颜色</span>
          <input id="insert-button-fill-color" type="color" value="#ffffff">
        </div>
        <div class="insert-button-field">
          <span data-i18n="detail.buttonTextColorLabel">文字颜色</span>
          <input id="insert-button-text-color" type="color" value="#1d1c1a">
        </div>
      </div>

      <div class="detail-popover-actions">
        <button class="editor-secondary" id="insert-button-apply" type="button" data-i18n="detail.buttonInsertAction">插入按键</button>
        <button class="editor-ghost" id="insert-button-cancel" type="button" data-i18n="form.cancel">取消</button>
      </div>
    </div>

    <div class="detail-popover web-embed-popover" id="web-embed-popover" hidden>
      <div class="insert-button-title" data-i18n="detail.webPopoverTitle">插入网页</div>

      <label for="web-embed-link-type" data-i18n="detail.webLinkTypeLabel">网页类型</label>
      <select id="web-embed-link-type">
        <option value="external" data-i18n="detail.webTypeExternal">外部链接</option>
        <option value="internal" data-i18n="detail.webTypeInternal">内部HTML文件</option>
      </select>

      <label for="web-embed-target" id="web-embed-target-label" data-i18n="detail.webTargetExternalLabel">网页链接 URL</label>
      <input
        id="web-embed-target"
        type="text"
        data-i18n-attr="placeholder:detail.webTargetExternalHint"
        placeholder="例如 https://example.com"
      >

      <div class="web-embed-file-row">
        <button class="editor-ghost" id="web-embed-pick-file" type="button" data-i18n="detail.webPickFile">选择HTML文件</button>
      </div>

      <div class="detail-popover-actions">
        <button class="editor-secondary" id="web-embed-apply" type="button" data-i18n="detail.webInsertAction">插入网页</button>
        <button class="editor-ghost" id="web-embed-cancel" type="button" data-i18n="form.cancel">取消</button>
      </div>
    </div>

    <div class="columns-edit-float" id="columns-edit-float" hidden>
      <button class="editor-ghost" id="columns-edit-move-up" type="button" data-i18n="detail.columnsMoveUp">移动到上一行</button>
      <button class="editor-ghost" id="columns-edit-move-down" type="button" data-i18n="detail.columnsMoveDown">移动到下一行</button>
      <button class="editor-ghost" id="columns-edit-exit" type="button" data-i18n="detail.columnsExitEdit">退出分栏编辑</button>
    </div>

  </main>

  <div id="editor-local-open-modal" class="local-open-modal" hidden>
    <div class="local-open-dialog" role="dialog" aria-modal="true" aria-labelledby="editor-local-open-title">
      <h2 id="editor-local-open-title">请选择 `contents` 文件夹</h2>
      <p class="local-open-intro">
        你现在是直接打开 HTML 文件。编辑器需要先拿到 `contents` 文件夹授权，才能读取和保存内容。
      </p>
      <div class="local-open-actions">
        <button id="editor-local-open-pick" class="editor-primary" type="button">选择 `contents` 文件夹</button>
        <button id="editor-local-open-later" class="editor-secondary" type="button">稍后再说</button>
      </div>
      <p id="editor-local-open-status" class="local-open-status" role="status" aria-live="polite"></p>
      <details class="local-open-help">
        <summary>为什么会这样？（点击展开）</summary>
        <div class="local-open-help-body">
          <p>直接双击 HTML 打开时，浏览器会默认保护你的本地文件，不允许网页自动读写整个文件夹。</p>
          <p>这不是你设置错了，而是浏览器的安全规则。</p>
          <p>上线到网站后（例如部署到 Netlify、Vercel、GitHub Pages），这个限制就不会影响正常使用。</p>
        </div>
      </details>
    </div>
  </div>

  <script src="Editor/editor.js?v=20260218b" defer></script>
</body>
</html>
